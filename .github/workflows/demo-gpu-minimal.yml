name: Demo â€“ minimal Lambda GPU job
on:
  workflow_dispatch:
  workflow_call:
permissions:
  contents: read
jobs:
  lambda:
    # To use from another repo: Open-Athena/lambda-gha/.github/workflows/runner.yml@main
    uses: ./.github/workflows/runner.yml
    secrets: inherit
    with:
      instance_type: gpu_1x_a10  # Single A10 GPU
      region: us-south-1
  gpu-test:
    needs: lambda
    runs-on: ${{ needs.lambda.outputs.id }}
    steps:
    - run: nvidia-smi  # Verify GPU is available
